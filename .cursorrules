project: PlaylistOrganizer
version: "1.0"

development_environment:
  debug:
    enabled: true
    force_color: true
  env_vars:
    FORCE_COLOR: "1"
    PYTHONPATH: "/Users/koray/projects/PlaylistOrganizer-py/py"

  code_modification_rules:
    require_user_approval: true
    rules:
      - "Ã‡alÄ±ÅŸan kodu kullanÄ±cÄ± onayÄ± olmadan deÄŸiÅŸtirme"
      - "Hata durumunda Ã¶nce kullanÄ±cÄ±ya bildir ve onay bekle"
      - "Birden fazla Ã§Ã¶zÃ¼m varsa, kullanÄ±cÄ±ya seÃ§enekleri sun"
      - "Kod deÄŸiÅŸikliÄŸi Ã¶ncesi mevcut durumu analiz et"
      - "Ã‡alÄ±ÅŸan bir Ã¶zelliÄŸi kullanÄ±cÄ± onayÄ± olmadan kapatma"
      - "Her deÄŸiÅŸiklik Ã¶ncesi detaylÄ± rapor sun ve kullanÄ±cÄ± onayÄ± bekle"
      - "DeÄŸiÅŸiklik Ã¶nerilerini adÄ±m adÄ±m aÃ§Ä±kla ve her adÄ±m iÃ§in onay al"

  directory_rules:
    frontend:
      path: "/Users/koray/projects/PlaylistOrganizer-py/frontend"
      required_files: ["package.json", "angular.json"]
      startup_checks:
        - type: "exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/frontend"
          message: "Frontend klasÃ¶rÃ¼ bulunamadÄ±"
        - type: "file_exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/frontend/package.json"
          message: "package.json dosyasÄ± bulunamadÄ±"
        - type: "file_exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/frontend/angular.json"
          message: "angular.json dosyasÄ± bulunamadÄ±"
      commands:
        serve: "cd /Users/koray/projects/PlaylistOrganizer-py/frontend && ng serve"
        build: "cd /Users/koray/projects/PlaylistOrganizer-py/frontend && ng build"
        test: "cd /Users/koray/projects/PlaylistOrganizer-py/frontend && ng test"
    
    backend:
      path: "/Users/koray/projects/PlaylistOrganizer-py/py"
      required_files: ["pyproject.toml", "__main__.py", "apiserver.py"]
      virtual_env: "/Users/koray/projects/PlaylistOrganizer-py/py/.venv"
      startup_checks:
        - type: "exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/py"
          message: "Backend klasÃ¶rÃ¼ bulunamadÄ±"
        - type: "file_exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/py/pyproject.toml"
          message: "pyproject.toml dosyasÄ± bulunamadÄ±"
        - type: "file_exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/py/__main__.py"
          message: "Main dosyasÄ± bulunamadÄ±"
        - type: "venv_exists"
          path: "/Users/koray/projects/PlaylistOrganizer-py/py/.venv"
          message: "Virtual environment bulunamadÄ±"
      commands:
        activate_venv: "source /Users/koray/projects/PlaylistOrganizer-py/py/.venv/bin/activate"
        run_api: "cd /Users/koray/projects/PlaylistOrganizer-py/py && source .venv/bin/activate && python apiserver.py"
        run_desktop: "cd /Users/koray/projects/PlaylistOrganizer-py/py && source .venv/bin/activate && python __main__.py"

  execution_rules:
    pre_run_checks: true
    rules:
      - "Her komut iÃ§in tam yol (absolute path) kullan"
      - "Komut Ã§alÄ±ÅŸtÄ±rmadan Ã¶nce gerekli klasÃ¶rÃ¼n varlÄ±ÄŸÄ±nÄ± kontrol et"
      - "Virtual environment aktif deÄŸilse Ã¶nce aktive et"
      - "Gerekli dosyalarÄ±n varlÄ±ÄŸÄ±nÄ± kontrol et"
      - "Port Ã§akÄ±ÅŸmalarÄ±nÄ± kontrol et"
      - "HatalÄ± klasÃ¶rde Ã§alÄ±ÅŸtÄ±rma giriÅŸiminde kullanÄ±cÄ±yÄ± uyar"
      - "Ã‡alÄ±ÅŸtÄ±rma Ã¶ncesi baÄŸÄ±mlÄ±lÄ±klarÄ±n yÃ¼klÃ¼ olduÄŸunu doÄŸrula"
      - "GÃ¶receli yol (relative path) kullanÄ±mÄ±nÄ± yasakla"
      - "Her komut iÃ§in Ã§alÄ±ÅŸma dizinini (working directory) tam yol olarak belirt"
      - "Komut Ã§alÄ±ÅŸtÄ±rmadan Ã¶nce dizin deÄŸiÅŸikliÄŸi (cd) yerine tam yol kullan"

ide_settings:
  exclude_patterns:
    - "**/__pycache__/**"
    - "**/.pytest_cache/**"
    - "**/build/**"
    - "**/dist/**"
    - "**/*.pyc"
    - "**/*.pyo"
    - "**/venv/**"
    - "**/.env/**"
    - "**/.coverage"
    - "**/.mypy_cache/**"

automatic_checks:
  steps:
    format:
      command: "poetry run black ."
      description: "Kod formatlamasÄ±"
    lint:
      command: "poetry run ruff check ."
      description: "Lint kontrolÃ¼"
    type_check:
      command: "poetry run mypy ."
      description: "Type kontrolÃ¼"
    test:
      command: "poetry run pytest"
      description: "Unit testler"
      pre_conditions:
        - check: "format"
        - check: "lint"
        - check: "type_check"
      error_handling:
        stop_on_failure: true
        message: "Testler Ã§alÄ±ÅŸtÄ±rÄ±lmadan Ã¶nce kod kalitesi kontrolleri baÅŸarÄ±yla tamamlanmalÄ±dÄ±r."
    build:
      command: "poetry run pyinstaller playlist_organizer.spec"
      description: "Uygulama build"

git_management:
  auto_commit:
    enabled: true
    critical_changes:
      - type: "feat"
        paths: ["py/**/*.py"]
        message_template: "feat: {description}"
      - type: "fix"
        paths: ["py/**/*.py"]
        message_template: "fix: {description}"
      - type: "refactor"
        paths: ["py/**/*.py"]
        message_template: "refactor: {description}"
      - type: "test"
        paths: ["tests/**/*.py"]
        message_template: "test: {description}"
    
  commit_types:
    - type: "feat"
      description: "Yeni Ã¶zellik"
      emoji: "âœ¨"
    - type: "fix"
      description: "Hata dÃ¼zeltmesi"
      emoji: "ğŸ›"
    - type: "refactor"
      description: "Kod iyileÅŸtirmesi"
      emoji: "â™»ï¸"
    - type: "test"
      description: "Test ekleme/dÃ¼zenleme"
      emoji: "âœ…"
    - type: "docs"
      description: "DokÃ¼mantasyon"
      emoji: "ğŸ“"
    - type: "style"
      description: "Stil dÃ¼zenlemesi"
      emoji: "ğŸ’„"
    - type: "perf"
      description: "Performans iyileÅŸtirmesi"
      emoji: "âš¡ï¸"
  
  commit_commands:
    quick_commit: 'git add . && git commit -m "{type}{emoji}: {message}"'
    staged_commit: 'git commit -m "{type}{emoji}: {message}"'
    push: "git push origin {branch}"

development_rules:
  language:
    default: "tr-TR"
    technical_terms: "en-US"
    variable_names: "en-US"
    function_names: "en-US"
    comments: "tr-TR"
    agent_response: "tr-TR"
    force_turkish_response: true

  architecture:
    patterns:
      - "Domain Driven Design"
      - "Clean Architecture"
      - "SOLID Principles"
    
    structure:
      - domain:
          - entities
          - value_objects
          - repositories
          - services
      - application:
          - use_cases
          - interfaces
          - services
      - infrastructure:
          - persistence
          - external_services
      - presentation:
          - gui
          - viewmodels
          - views
    
    dependencies:
      - poetry: "Paket yÃ¶netimi"
      - pydantic: "Veri doÄŸrulama"
      - sqlalchemy: "ORM"
      - pytest: "Test framework"
      - asyncio: "Asenkron iÅŸlemler"
      - aiofiles: "Asenkron dosya iÅŸlemleri"
      - loguru: "Loglama"
    
    best_practices:
      - "Type hints kullanÄ±mÄ±"
      - "Dependency injection"
      - "Repository pattern"
      - "Unit of work pattern"
      - "Command query separation"
      - "Event driven architecture"
