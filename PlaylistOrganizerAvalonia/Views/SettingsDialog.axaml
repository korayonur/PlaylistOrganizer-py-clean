<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PlaylistOrganizerAvalonia.ViewModels"
        x:Class="PlaylistOrganizerAvalonia.Views.SettingsDialog"
        x:DataType="vm:SettingsViewModel"
        Title="Ayarlar"
        Width="600"
        Height="500"
        WindowStartupLocation="CenterScreen"
        CanResize="False">

    <Design.DataContext>
        <vm:SettingsViewModel />
    </Design.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="Playlist Organizer Ayarları" 
                   FontSize="24" 
                   FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,20"/>

        <!-- Settings Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="20">
                
                <!-- Database Settings -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="Veritabanı Ayarları" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Veritabanı Yolu:" Width="150" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding DatabasePath}" Width="300" VerticalAlignment="Center"/>
                            <Button Content="Gözat" Command="{Binding BrowseDatabaseCommand}" Width="80"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="Yeni Veritabanı:" Width="150" VerticalAlignment="Center"/>
                            <Button Content="Oluştur" Command="{Binding CreateNewDatabaseCommand}" Width="100"/>
                            <Button Content="Mevcut DB'yi Temizle" Command="{Binding ClearDatabaseCommand}" Width="150"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Import Settings -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="İçe Aktarma Ayarları" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Müzik Klasörü:" Width="150" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding MusicFolderPath}" Width="300" VerticalAlignment="Center"/>
                            <Button Content="Gözat" Command="{Binding BrowseMusicFolderCommand}" Width="80"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="VirtualDJ Klasörü:" Width="150" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding VirtualDJFolderPath}" Width="300" VerticalAlignment="Center"/>
                            <Button Content="Gözat" Command="{Binding BrowseVirtualDJFolderCommand}" Width="80"/>
                        </StackPanel>
                        
                        <CheckBox Content="Otomatik tarama yap" IsChecked="{Binding AutoScan}" Margin="0,10,0,0"/>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
                            <TextBlock Text="Maksimum Eşzamanlı İçe Aktarma:" Width="200" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding MaxConcurrentImports}" Width="100" VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5,0,0">
                            <TextBlock Text="Toplu İşlem Boyutu:" Width="200" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding BatchSize}" Width="100" VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- File Extensions Settings -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="Dosya Uzantıları" FontWeight="Bold" Margin="0,0,0,10"/>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Müzik Uzantıları:" Width="150" VerticalAlignment="Top"/>
                            <TextBox Text="{Binding MusicExtensions}" 
                                     Width="400" 
                                     Height="80" 
                                     AcceptsReturn="True" 
                                     TextWrapping="Wrap"
                                     VerticalAlignment="Top"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Playlist Uzantıları:" Width="150" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding PlaylistExtensions}" Width="400" VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="Dışlanacak Klasörler:" Width="150" VerticalAlignment="Top"/>
                            <TextBox Text="{Binding ExcludePaths}" 
                                     Width="400" 
                                     Height="60" 
                                     AcceptsReturn="True" 
                                     TextWrapping="Wrap"
                                     VerticalAlignment="Top"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- UI Settings -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="Arayüz Ayarları" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Tema:" Width="150" VerticalAlignment="Center"/>
                            <ComboBox SelectedItem="{Binding SelectedTheme}" Width="150">
                                <ComboBoxItem Content="Koyu"/>
                                <ComboBoxItem Content="Açık"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Dil:" Width="150" VerticalAlignment="Center"/>
                            <ComboBox SelectedItem="{Binding SelectedLanguage}" Width="150">
                                <ComboBoxItem Content="Türkçe"/>
                                <ComboBoxItem Content="English"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <CheckBox Content="Otomatik yenileme" IsChecked="{Binding AutoRefresh}" Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Advanced Settings -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="Gelişmiş Ayarlar" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
                            <TextBlock Text="Yenileme Aralığı:" Width="150" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding RefreshInterval}" Width="100" VerticalAlignment="Center"/>
                            <TextBlock Text="saniye" VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <CheckBox Content="Debug modu" IsChecked="{Binding DebugMode}" Margin="0,10,0,0"/>
                        <CheckBox Content="Performans izleme" IsChecked="{Binding PerformanceMonitoring}" Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Spacing="10" 
                    Margin="0,20,0,0">
            <Button Content="İptal" 
                    Command="{Binding CancelCommand}" 
                    Width="80" 
                    Height="35"/>
            <Button Content="Kaydet" 
                    Command="{Binding SaveCommand}" 
                    Width="80" 
                    Height="35"
                    Classes="accent"/>
        </StackPanel>

    </Grid>

</Window>
